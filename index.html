<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>L.A Cashback VIP ðŸ‘‘</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; background: #f7f7f7; margin: 0; }
    h2 { text-align: center; color: #333; }
    label, select, input {
      display: block; width: 100%; margin-bottom: 12px;
      font-size: 1rem; padding: 10px; border-radius: 5px;
      border: 1px solid #ccc; box-sizing: border-box;
    }
    button {
      width: 100%; padding: 14px; background-color: #007BFF;
      color: white; font-size: 1.1rem; border: none;
      border-radius: 8px; margin-top: 10px; cursor: pointer;
    }
    button:hover { background-color: #0056b3; }
    table {
      width: 100%; border-collapse: collapse; margin-top: 20px;
      font-size: 0.95rem; background: white;
    }
    th, td { border: 1px solid #ccc; padding: 8px; text-align: center; }
    th { background: #e9ecef; }
    @media (max-width: 600px) {
      table, thead, tbody, th, td, tr { display: block; }
      thead tr { display: none; }
      td {
        position: relative; padding-left: 50%;
        border: none; border-bottom: 1px solid #eee;
      }
      td::before {
        content: attr(data-label); position: absolute;
        left: 10px; top: 10px; font-weight: bold;
        white-space: nowrap; color: #333;
      }
      button { font-size: 1rem; }
    }
    #inputs > div { display: flex; gap: 10px; margin-bottom: 10px; }
    #inputs input { flex: 1; }
  </style>
</head>
<body>
  <h2>L.A Cashback VIP ðŸ‘‘</h2>

  <label for="liga">Escolha a Liga:</label>
  <select id="liga">
    <option value="soccer_brazil_campeonato">BrasileirÃ£o</option>
    <option value="soccer_epl">Premier League</option>
    <option value="soccer_uefa_champs_league">Champions League</option>
    <option value="soccer_spain_la_liga">La Liga</option>
    <option value="soccer_italy_serie_a">Serie A</option>
  </select>

  <label for="quantidade">NÃºmero de jogos:</label>
  <select id="quantidade" onchange="atualizarCampos()">
    <option value="1">1</option><option value="2">2</option><option value="3">3</option>
    <option value="4">4</option><option value="5">5</option><option value="6">6</option>
    <option value="7">7</option><option value="8">8</option><option value="9">9</option><option value="10">10</option>
  </select>

  <label for="tipoDesdobramento">Tipo de aposta (acertos):</label>
  <select id="tipoDesdobramento">
    <option value="1">1 (simples)</option><option value="2">2 (duplas)</option>
    <option value="3">3 (trios)</option><option value="4">4 (quartetos)</option>
    <option value="5">5 (quinas)</option><option value="6">6 (senas)</option>
    <option value="7">7</option><option value="8">8</option><option value="9">9</option><option value="10">10</option>
  </select>

  <label for="tipoAposta">Modo de aposta:</label>
  <select id="tipoAposta" onchange="atualizarCampos()">
    <option value="simples">Simples (1X2)</option>
    <option value="placar">Placar Exato</option>
    <option value="btts">Ambas Marcam (BTTS)</option>
    <option value="over25">Mais de 2.5 Gols</option>
    <option value="under25">Menos de 2.5 Gols</option>
    <option value="dupla">Dupla Chance</option>
    <option value="resultado_gols">Resultado + Gols</option>
  </select>

  <button onclick="carregarOddsReais()">ðŸ”„ Carregar Odds Reais</button>

  <div id="inputs"></div>
  <input type="number" step="0.01" placeholder="Valor por combinaÃ§Ã£o (R$)" id="stake" value="10" />
  <button onclick="gerarDesdobramento()">Gerar L.A Cashback VIP ðŸ‘‘</button>
  <div id="resultado"></div>

<script>
async function carregarOddsReais() {
  const API_KEY = "d4d52d8e8d186ecee91808ff600dcd63";
  const tipo = document.getElementById("tipoAposta").value;
  const liga = document.getElementById("liga").value;
  let mercado = "h2h";

  if (tipo === "over25" || tipo === "under25") mercado = "over_under";
  else if (tipo === "btts") mercado = "btts";
  else if (tipo === "placar") mercado = "correct_score";

  const url = `https://api.the-odds-api.com/v4/sports/${liga}/odds/?apiKey=${API_KEY}&regions=br&markets=${mercado}&oddsFormat=decimal`;

  try {
    const response = await fetch(url);
    if (!response.ok) throw new Error("Erro na resposta da API");

    const data = await response.json();
    const inputs = document.getElementById("inputs");
    const qtd = parseInt(document.getElementById("quantidade").value);
    inputs.innerHTML = "<p><strong>Odds reais carregadas:</strong></p>";

    for (let i = 0; i < qtd; i++) {
      const jogo = data[i];
      const mercado = jogo?.bookmakers?.[0]?.markets?.[0];

      if (!mercado || mercado.outcomes.length === 0) continue;

      const primeiro = mercado.outcomes[0];
      const nome = tipo === "placar" || tipo === "resultado_gols" ? primeiro.name : jogo.teams?.join(" x ") || "Jogo";
      const odd = primeiro.price || 1.5;

      inputs.innerHTML += `
        <div>
          <input type="text" id="palpite${i + 1}" value="${nome}" disabled />
          <input type="number" step="0.01" id="odd${i + 1}" value="${odd.toFixed(2)}" />
        </div>
      `;
    }

    alert("Odds carregadas com sucesso!");
  } catch (err) {
    console.error("Erro ao buscar odds reais:", err);
    alert("Erro ao buscar odds. Tente novamente mais tarde.");
  }
}

  function atualizarCampos() {
    const qtd = parseInt(document.getElementById("quantidade").value);
    const tipo = document.getElementById("tipoAposta").value;
    const inputs = document.getElementById("inputs");
    inputs.innerHTML = "<p><strong>Preencha os palpites e odds:</strong></p>";

    for (let i = 1; i <= qtd; i++) {
      let palpiteInput = "";
      if (tipo === "placar") {
        palpiteInput = `<input type="text" id="palpite${i}" placeholder="Placar Jogo ${i} (ex: 2x1)">`;
      } else if (tipo === "dupla") {
        palpiteInput = `<input type="text" id="palpite${i}" placeholder="Dupla Chance Jogo ${i} (ex: 1X, X2)">`;
      } else if (tipo === "resultado_gols") {
        palpiteInput = `<input type="text" id="palpite${i}" placeholder="Ex: Time A e +1.5">`;
      }

      inputs.innerHTML += `
        <div>
          ${palpiteInput}
          <input type="number" step="0.01" id="odd${i}" placeholder="Odd Jogo ${i}">
        </div>`;
    }
  }

  window.onload = atualizarCampos;
</script>

</body>
</html>
